import{B as e,A as t}from"./worker-entry-BFFzWMHV.js";import{c as s,n as o,f as a}from"./fetcher-C0qtPk9m.js";import"node:events";import"node:stream";import"node:async_hooks";import"node:stream/web";const n=e("src_functions_load-comments_ts--loadComments_createServerFn_handler",(e,t)=>m.__executeServer(e,t)),m=t({method:"GET"}).inputValidator(e=>s(o().int().positive()).parse(e)).handler(n,async({data:e,signal:t})=>{const s=await Promise.allSettled(e.map(async e=>({commentId:e,comment:await a.get(`item/${e}.json`,{signal:t}).json(),success:!0}))),o=[],n=[];for(const a of s)"fulfilled"===a.status&&(a.value.success&&a.value.comment?o.push(a.value.comment):n.push(a.value.commentId));return{comments:o,failedIds:n}});export{n as loadComments_createServerFn_handler};
